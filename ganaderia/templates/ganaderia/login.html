{% extends 'base.html' %}
{% block title %}Login - Mi Aplicación Ganadera{% endblock %}

{% block content %}
<body class="login-page">

    {% if messages %}
    <div class="messages" id="message-container">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} fade-message">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <div class="login-container">
        <h2>Inicio de Sesión</h2>
        <form method="post" action="{% url 'login' %}">
            {% csrf_token %}
            <div class="form-group">
                <label for="username">Usuario:</label>
                <input type="text" name="username" id="username" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="password">Contraseña:</label>
                <input type="password" name="password" id="password" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary">Ingresar</button>
        </form>
        <p class="register-link">¿No tienes cuenta? <a href="{% url 'register' %}">Regístrate aquí</a></p>
    </div>

    

    <script>
        // Selecciona todos los mensajes de alerta para aplicar el efecto de desvanecimiento
        document.addEventListener('DOMContentLoaded', function () {
            const messages = document.querySelectorAll('.fade-message');
            messages.forEach((message) => {
                // Espera 3 segundos y luego aplica la clase 'fade-out'
                setTimeout(() => {
                    message.classList.add('fade-out');
                }, 2000);

                // Elimina el mensaje del DOM cuando la animación finalice
                message.addEventListener('animationend', () => {
                    message.remove();
                });
            });
        });
    </script>

</body>
{% endblock %}
